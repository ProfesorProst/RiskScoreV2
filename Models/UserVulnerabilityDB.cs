using DependencyCheck.Models;
using System;
using System.Collections.Generic;
using System.ComponentModel.DataAnnotations;
using System.ComponentModel.DataAnnotations.Schema;
using System.Text;

namespace DependencyCheck.Models
{
    class UserVulnerabilityDB
    {
        public UserVulnerabilityDB()
        {

        }

        public UserVulnerabilityDB(long userId, long vulnerabilityidId)
        {
            this.userid = userId;
            this.vulnerability_id = vulnerabilityidId;
        }

        [Key]
        [DatabaseGenerated(DatabaseGeneratedOption.Identity)]
        public long id { get; set; }
        public double? threats { get; set; }
        public double? techDamage { get; set; }
        public double? bizDamage { get; set; }

        [ForeignKey("vulnerability")]
        [Index("UserANDVulnerability", 1, IsUnique = true)]
        public long vulnerability_id { get; set; }

        public VulnerabilityDB vulnerability { get; set; }

        [Index("UserANDVulnerability", 2, IsUnique = true)]
        public long userid { get; set; }

        public UserDB user { get; set; }
    }
}
